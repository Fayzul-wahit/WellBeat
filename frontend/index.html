<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WellBeat – Burnout Detection System</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="dark-mode">
    <div id="app">
        <!-- Auth View -->
        <div id="auth-view" class="view">
            <div class="glass-card login-card">
                <div class="logo">Well<span>Beat</span></div>
                <h2 id="auth-title">Welcome Back</h2>
                <form id="auth-form">
                    <input type="text" id="username" placeholder="Username" required>
                    <input type="password" id="password" placeholder="Password" required>
                    <select id="role-select" class="hidden">
                        <option value="employee">Employee</option>
                        <option value="hr">HR Manager</option>
                    </select>
                    <button type="submit" id="auth-btn">Login</button>
                </form>
                <p id="toggle-auth">Don't have an account? <span>Sign Up</span></p>
                <div id="auth-message" class="error"></div>
            </div>
        </div>

        <!-- Dashboard View (Employee/HR) -->
        <div id="dashboard-view" class="view hidden">
            <nav class="sidebar">
                <div class="logo">Well<span>Beat</span></div>
                <ul class="nav-links">
                    <li class="active" data-view="home">Dashboard</li>
                    <li id="nav-add-employee" class="hr-only hidden" data-view="manage">Manage Team</li>
                    <li id="nav-reports" data-view="reports">Reports</li>
                </ul>
                <div class="user-profile">
                    <div class="user-info">
                        <p id="nav-username">User</p>
                        <span id="nav-role">Role</span>
                    </div>
                    <button id="logout-btn">Logout</button>
                </div>
            </nav>

            <main class="content">
                <!-- Employee Home -->
                <section id="employee-home" class="sub-view">
                    <header>
                        <h1>Employee Dashboard</h1>
                        <p id="current-date"></p>
                    </header>

                    <div class="stats-grid">
                        <div class="glass-card stat-card bps-score">
                            <h3>Burnout Probability Score</h3>
                            <div class="bps-value" id="bps-display">--</div>
                            <p id="risk-level">Calculating...</p>
                        </div>
                        <div class="glass-card stat-card">
                            <h3>Active Tracking</h3>
                            <div id="tracking-status" class="status-badge idle">Inactive</div>
                            <p>Mouse activity monitoring</p>
                        </div>
                    </div>

                    <div class="data-input-row">
                        <div class="glass-card input-card">
                            <h3>Daily Log</h3>
                            <div class="input-group">
                                <label>Work Hours</label>
                                <input type="number" id="work-hours-input" step="0.1" placeholder="e.g. 8.5">
                            </div>
                            <div class="input-group">
                                <label>Meetings</label>
                                <input type="number" id="meetings-input" placeholder="e.g. 3">
                            </div>
                            <button id="submit-daily-data" class="btn-primary">Submit Daily Data</button>
                        </div>
                        <div class="glass-card chart-container">
                            <h3>Activity Trend</h3>
                            <canvas id="employee-activity-chart"></canvas>
                        </div>
                    </div>
                </section>

                <!-- Employee Reports -->
                <section id="employee-reports" class="sub-view hidden">
                    <header>
                        <h1>Your History</h1>
                    </header>
                    <div class="glass-card">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Work Hours</th>
                                    <th>Meetings</th>
                                    <th>BPS</th>
                                    <th>Risk Level</th>
                                </tr>
                            </thead>
                            <tbody id="employee-reports-body">
                                <!-- Data injected here -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- HR Home -->
                <section id="hr-home" class="sub-view hidden">
                    <header>
                        <h1>Team Overview</h1>
                        <button id="add-employee-trigger" class="btn-add">+</button>
                    </header>
                    <div id="employee-grid" class="employee-grid">
                        <!-- Employee Cards Dynamic -->
                    </div>
                </section>

                <!-- HR Reports -->
                <section id="hr-reports" class="sub-view hidden">
                    <header>
                        <h1>Team Analytics</h1>
                    </header>
                    <div class="stats-grid">
                        <div class="glass-card">
                            <h3>Average Team BPS</h3>
                            <div class="bps-value" id="team-avg-bps">--</div>
                        </div>
                        <div class="glass-card">
                            <h3>Risk Distribution</h3>
                            <div id="risk-breakdown" class="risk-breakdown">
                                <!-- Distribution items -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- HR Manage Team -->
                <section id="hr-manage-team" class="sub-view hidden">
                    <header>
                        <h1>Manage Team</h1>
                    </header>
                    <div class="glass-card">
                        <ul id="manage-employee-list" class="manage-list">
                            <!-- List items -->
                        </ul>
                    </div>
                </section>

                <!-- HR Detail -->
                <section id="hr-detail" class="sub-view hidden">
                    <header>
                        <button id="back-to-grid" class="btn-back">← Back</button>
                        <h1 id="detail-employee-name">Employee Name</h1>
                    </header>
                    <div class="detail-grid">
                        <div class="glass-card">
                            <h3>BPS History</h3>
                            <canvas id="hr-employee-bps-chart"></canvas>
                        </div>
                        <div class="glass-card">
                            <h3>Activity Levels</h3>
                            <canvas id="hr-employee-activity-chart"></canvas>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Alert Modal -->
    <div id="alert-modal" class="modal hidden">
        <div class="glass-card modal-content">
            <h2 class="warning">High Burnout Risk!</h2>
            <p>Your burnout probability score is high today. We recommend taking a break and checking in with your
                manager.</p>
            <button onclick="closeModal()">Dismiss</button>
        </div>
    </div>

    <!-- Add Employee Modal -->
    <div id="add-employee-modal" class="modal hidden">
        <div class="glass-card modal-content">
            <h2>Add Employee</h2>
            <p>Enter the username of the employee you want to monitor.</p>
            <input type="text" id="add-emp-username" placeholder="Employee Username">
            <div class="modal-actions">
                <button onclick="closeModal()">Cancel</button>
                <button id="confirm-add-emp" class="btn-primary">Add</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/activity.js"></script>
    <script src="js/charts.js"></script>
</body>

</html>